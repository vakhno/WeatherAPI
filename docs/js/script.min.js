"use strict";var api={url:"https://api.openweathermap.org/data/2.5/",key:"b7bf80efafd4a87d928b38d509b14759"},countOfDays=0,newDayNumber=0;function createFirstCard(e,t){countOfDays=0,newDayNumber=0;var r=document.createElement("div");r.classList.add("weather-card"),r.dataset.weatherCounter=newDayNumber,r.dataset.cardNumber=0,r.classList.add("new-card-number-0"),document.querySelector(".weather-API__cards").prepend(r);var a=document.createElement("div");a.classList.add("weather-card__info"),document.querySelector(".weather-card").prepend(a);var c=document.createElement("div");c.classList.add("weather-card__place"),document.querySelector(".weather-card__info").prepend(c);var n=document.createElement("div");n.classList.add("weather-card__city"),document.querySelector(".weather-card__place").prepend(n);var d=document.createElement("sup");d.classList.add("weather-card__country"),document.querySelector(".weather-card__city").after(d);var o=document.createElement("div");o.classList.add("weather-card__time"),document.querySelector(".weather-card__place").after(o);var u=document.createElement("div");u.classList.add("weather-card__temperature"),document.querySelector(".weather-card__time").after(u);var s=document.createElement("div");s.classList.add("weather-card__real-degree"),document.querySelector(".weather-card__temperature").prepend(s);var i=document.createElement("div");if(i.classList.add("weather-card__feels-degree"),document.querySelector(".weather-card__real-degree").after(i),document.querySelector(".weather-API__addNewDay")){var l=document.querySelector(".weather-API__addNewDay");l.disabled=!1,l.style.backgroundColor="white"}else{var _=document.createElement("button");_.classList.add("weather-API__addNewDay"),_.textContent="add new day",document.querySelector(".weather-API__cards").after(_)}var m=document.createElement("div");m.classList.add("weather-card__changeHours"),document.querySelector(".weather-card__info").after(m);var w=document.createElement("button");w.textContent="+3 hours",w.classList.add("weather-card__plus3Hours"),document.querySelector(".weather-card__changeHours").prepend(w);var h=document.createElement("button");h.textContent="-3 hours",h.classList.add("weather-card__minus3Hours"),document.querySelector(".weather-card__plus3Hours").before(h);var p=document.createElement("div");p.classList.add("weather-card__icon"),document.querySelector(".weather-card__temperature").after(p);var y=document.createElement("div");y.classList.add("weather-card__status"),document.querySelector(".weather-card__icon").after(y),document.querySelector(".weather-card__city").textContent=e.city.name,document.querySelector(".weather-card__country").textContent=e.city.country,document.querySelector(".weather-card__time").textContent=t.dt_txt,document.querySelector(".weather-card__real-degree").innerHTML="".concat((t.main.temp-273).toFixed(1),"&deg"),document.querySelector(".weather-card__feels-degree").innerHTML="feels like: ".concat((t.main.feels_like-273).toFixed(1),"&deg"),document.querySelector(".weather-card__icon").innerHTML="<img src='https://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png'>"),document.querySelector(".weather-card__status").textContent=t.weather[0].description}function newInfoCard(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r)t=r.target.parentNode.parentNode.classList[1];else{var a=document.createElement("div");(a=document.querySelector(".weather-card").cloneNode(!0)).classList.remove("new-card-number-0"),a.classList.add("new-card-number-".concat(countOfDays)),a.dataset.cardNumber=countOfDays,a.dataset.weatherCounter=newDayNumber,1===countOfDays?document.querySelector(".weather-card").after(a):document.querySelector(".new-card-number-".concat(countOfDays-1)).after(a),t="new-card-number-".concat(countOfDays)}document.querySelector(".".concat(t," > .weather-card__info > .weather-card__time")).innerHTML=e.dt_txt,document.querySelector(".".concat(t," > .weather-card__info > .weather-card__temperature > .weather-card__real-degree")).innerHTML="".concat((e.main.temp-273).toFixed(1),"&deg"),document.querySelector(".".concat(t," > .weather-card__info > .weather-card__temperature > .weather-card__feels-degree")).innerHTML="feels like: ".concat((e.main.feels_like-273).toFixed(1),"&deg"),document.querySelector(".".concat(t," > .weather-card__info > .weather-card__icon")).innerHTML="<img src='https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png'>"),document.querySelector(".".concat(t," > .weather-card__info > .weather-card__status")).innerHTML=e.weather[0].description}function displayWeather(e){for(var t=document.querySelector(".weather-API__cards");t.firstChild;)t.removeChild(t.firstChild);createFirstCard(e,e.list[0]),document.querySelector(".weather-API__addNewDay").onclick=function(t){var r=+e.list[newDayNumber].dt_txt.split(" ",2)[0].split("-")[2],a=+e.list[newDayNumber].dt_txt.split("-",2)[1],c=+e.list[newDayNumber].dt_txt.split("-",2)[0];(countOfDays+=1)<4?newInfoCard(e.list.find((function(e,t){var n=e.dt_txt.split(" ",2)[0].split("-")[2],d=e.dt_txt.split("-",2)[1],o=e.dt_txt.split("-",2)[0];return newDayNumber=t,n<r&&d>a||n>r&&d==a||o>c&&d<a?e:null}))):(t.target.disabled=!0,t.target.style.backgroundColor="gray",countOfDays=0,newDayNumber=0)},document.querySelector(".weather-API__cards").onclick=function(t){if(t.target.matches("button.weather-card__plus3Hours")){var r=+document.querySelector(".".concat(t.target.parentNode.parentNode.classList[1]," > .weather-card__info > .weather-card__time")).textContent.split(" ",2)[0].split("-")[2],a=+document.querySelector(".".concat(t.target.parentNode.parentNode.classList[1]," > .weather-card__info > .weather-card__time")).textContent.split(" ",2)[1].split(":")[0],c=e.list.find((function(e){return+e.dt_txt.split(" ",2)[1].split(":")[0]>a&&+e.dt_txt.split(" ",2)[0].split("-")[2]===r?e:null}));return void 0===c?0:newInfoCard(c,t)}if(t.target.matches("button.weather-card__minus3Hours")){var n=+document.querySelector(".".concat(t.target.parentNode.parentNode.classList[1]," > .weather-card__info > .weather-card__time")).textContent.split(" ",2)[0].split("-")[2],d=+document.querySelector(".".concat(t.target.parentNode.parentNode.classList[1]," > .weather-card__info > .weather-card__time")).textContent.split(" ",2)[1].split(":")[0],o=e.list.find((function(e){return d-+e.dt_txt.split(" ",2)[1].split(":")[0]==3&&+e.dt_txt.split(" ",2)[0].split("-")[2]===n?e:null}));return void 0===o?0:newInfoCard(o,t)}return!1}}function getWeather(e){fetch("".concat(api.url,"forecast?q=").concat(e,"&inits=metric&APPID=").concat(api.key)).then((function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t})).then((function(e){return e.json()})).then(displayWeather).catch((function(e){console.log("Error: ".concat(e.message)),console.log(e.response)}))}document.querySelector(".input").addEventListener("keypress",(function(e){return 13===e.keyCode?getWeather(this.value):null}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJhcGkiLCJ1cmwiLCJrZXkiLCJjb3VudE9mRGF5cyIsIm5ld0RheU51bWJlciIsImNyZWF0ZUZpcnN0Q2FyZCIsImNpdHkiLCJpbmZvIiwiY2FyZCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImRhdGFzZXQiLCJ3ZWF0aGVyQ291bnRlciIsImNhcmROdW1iZXIiLCJxdWVyeVNlbGVjdG9yIiwicHJlcGVuZCIsImNhcmRJbmZvIiwiY2FyZFBsYWNlIiwiY2FyZENpdHkiLCJjYXJkQ291bnRyeSIsImFmdGVyIiwiY2FyZFRpbWUiLCJjYXJkVGVtcGVyYXR1cmUiLCJ0ZW1wZXJhdHVyZVJlYWwiLCJ0ZW1wZXJhdHVyZUZlZWwiLCJkaXNhYmxlZEFkZEJ1dHRvbiIsImRpc2FibGVkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJidXR0b25BZGREYXkiLCJ0ZXh0Q29udGVudCIsImNoYW5nZUhvdXJzIiwiYnV0dG9uUGx1czNIb3VycyIsImJ1dHRvbk1pbnVzM0hvdXJzIiwiYmVmb3JlIiwid2VhdGhlckljb24iLCJjYXJkU3RhdHVzIiwibmFtZSIsImNvdW50cnkiLCJkdF90eHQiLCJpbm5lckhUTUwiLCJjb25jYXQiLCJtYWluIiwidGVtcCIsInRvRml4ZWQiLCJmZWVsc19saWtlIiwid2VhdGhlciIsImljb24iLCJkZXNjcmlwdGlvbiIsIm5ld0luZm9DYXJkIiwib3V0cHV0Q2FyZCIsImJ1dHRvbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInRhcmdldCIsInBhcmVudE5vZGUiLCJuZXdDYXJkRGl2IiwiY2xvbmVOb2RlIiwicmVtb3ZlIiwiZGlzcGxheVdlYXRoZXIiLCJkYXRhIiwiYWxsQ2FyZHNCbG9jayIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImxpc3QiLCJvbmNsaWNrIiwiZXZlbnQiLCJkYXkiLCJzcGxpdCIsIm1vdW50aCIsInllYXIiLCJmaW5kIiwiaXRlbSIsImluZGV4IiwibmV3RGF5IiwibmV3TW91bnRoIiwibmV3WWVhciIsImUiLCJtYXRjaGVzIiwiaG91ciIsIm5leHRIb3VySW5mbyIsImdldFdlYXRoZXIiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJzdGF0dXMiLCJlcnJvciIsIkVycm9yIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImtleUNvZGUiLCJ0aGlzIiwidmFsdWUiXSwibWFwcGluZ3MiOiJBQUFBLGFBQ0EsSUFBTUEsSUFBTSxDQUNYQyxJQUFHLDBDQUNIQyxJQUFHLG9DQUlBQyxZQUFjLEVBRWRDLGFBQWUsRUFHbkIsU0FBU0MsZ0JBQWdCQyxFQUFNQyxHQUU5QkosWUFBYyxFQUVkQyxhQUFlLEVBR2YsSUFBTUksRUFBT0MsU0FBU0MsY0FBVCxPQUNiRixFQUFLRyxVQUFVQyxJQUFmLGdCQUNBSixFQUFLSyxRQUFRQyxlQUFpQlYsYUFDOUJJLEVBQUtLLFFBQVFFLFdBQWEsRUFDMUJQLEVBQUtHLFVBQVVDLElBQWYscUJBQ0FILFNBQVNPLGNBQVQsdUJBQThDQyxRQUFRVCxHQUd0RCxJQUFNVSxFQUFXVCxTQUFTQyxjQUFULE9BQ2pCUSxFQUFTUCxVQUFVQyxJQUFuQixzQkFDQUgsU0FBU08sY0FBVCxpQkFBd0NDLFFBQVFDLEdBR2hELElBQU1DLEVBQVlWLFNBQVNDLGNBQVQsT0FDbEJTLEVBQVVSLFVBQVVDLElBQXBCLHVCQUNBSCxTQUFTTyxjQUFULHVCQUE4Q0MsUUFBUUUsR0FHdEQsSUFBTUMsRUFBV1gsU0FBU0MsY0FBVCxPQUNqQlUsRUFBU1QsVUFBVUMsSUFBbkIsc0JBQ0FILFNBQVNPLGNBQVQsd0JBQStDQyxRQUFRRyxHQUd2RCxJQUFNQyxFQUFjWixTQUFTQyxjQUFULE9BQ3BCVyxFQUFZVixVQUFVQyxJQUF0Qix5QkFDQUgsU0FBU08sY0FBVCx1QkFBOENNLE1BQU1ELEdBT3BELElBQU1FLEVBQVdkLFNB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V1EsU0FBQzJCLEdBQ1BLLFFBQVFDLElBQVIsVUFBQXBELE9BQXNCOEMsRUFBTU8sVUFDNUJGLFFBQVFDLElBQUlOLEVBQU1HLGFBS3JCbkYsU0FBU08sY0FBVCxVQUFpQ2lGLGlCQUFqQyxZQUE4RCxTQUFVNUIsR0FDdkUsT0FBMEIsS0FBbEJBLEVBQU02QixRQUFrQmQsV0FBV2UsS0FBS0MsT0FBUyIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDRgdGB0YvQu9C60LAg0Lgg0LrQu9GO0Ycg0L3QsCBPcGVuV2VhaHRlckFwaVxyXG5jb25zdCBhcGkgPSB7XHJcblx0dXJsOiBgaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvYCxcclxuXHRrZXk6IGBiN2JmODBlZmFmZDRhODdkOTI4YjM4ZDUwOWIxNDc1OWAsXHJcbn07XHJcblxyXG4vLyDQutC+0LvQuNGH0LXRgdGC0LLQviDQtNC90LXQuSDQtNC70Y8g0LLRi9Cy0L7QtNCwXHJcbmxldCBjb3VudE9mRGF5cyA9IDA7XHJcbi8vINC40L3QtNC10LrRgSDQtNC70Y8g0L/QvtC40YHQutCwINGB0LvQtdC00YPRjtGI0LXQs9C+INC00L3RjyDQsiDQvNCw0YHQuNGB0LjQstC1IGxpc3QgKNC/0YDQuNGB0LLQsNC40LLQsNC10YLRgdGPINC40L3QtNC10LrRgSDQvNCw0YHRgdC40LLQsClcclxubGV0IG5ld0RheU51bWJlciA9IDA7XHJcblxyXG4vLyDRgdC+0LfQtNCw0L3QuNC1INC/0LXRgNCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC/0L7Qs9C+0LTRi1xyXG5mdW5jdGlvbiBjcmVhdGVGaXJzdENhcmQoY2l0eSwgaW5mbykge1xyXG5cdC8vINC+0LHQvdGD0LvRj9C10Lwg0LrQvtC7LdCy0L4g0LTQvdC10LlcclxuXHRjb3VudE9mRGF5cyA9IDA7XHJcblx0Ly8g0L7QsdC90YPQu9GP0LXQvCDQt9C90LDRh9C10L3QuNC1INGB0LvQtdC00YPRjtGJ0LXQs9C+INC00L3RjyBcclxuXHRuZXdEYXlOdW1iZXIgPSAwO1xyXG5cclxuXHQvLyDRgdC+0LfQtNCw0LXQvCDRgdCw0LzRgyDQutCw0YDRgtC+0YfQutGDIFxyXG5cdGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcclxuXHRjYXJkLmNsYXNzTGlzdC5hZGQoYHdlYXRoZXItY2FyZGApO1xyXG5cdGNhcmQuZGF0YXNldC53ZWF0aGVyQ291bnRlciA9IG5ld0RheU51bWJlcjtcclxuXHRjYXJkLmRhdGFzZXQuY2FyZE51bWJlciA9IDA7XHJcblx0Y2FyZC5jbGFzc0xpc3QuYWRkKGBuZXctY2FyZC1udW1iZXItMGApO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC53ZWF0aGVyLUFQSV9fY2FyZHNgKS5wcmVwZW5kKGNhcmQpO1xyXG5cclxuXHQvLyDQutC70LDRgdGBINC00LvRjyDRgdGC0YDRg9C60YLRg9GA0LjRgNC+0LLQsNC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuFxyXG5cdGNvbnN0IGNhcmRJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XHJcblx0Y2FyZEluZm8uY2xhc3NMaXN0LmFkZChgd2VhdGhlci1jYXJkX19pbmZvYCk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItY2FyZGApLnByZXBlbmQoY2FyZEluZm8pO1xyXG5cclxuXHQvLyDQuNC90YTQvtGA0LzQsNGG0LjRjyDQviDQvNC10YHRgtC+0YDQsNGB0L/QvtC70L7QttC10L3QuNC4XHJcblx0Y29uc3QgY2FyZFBsYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XHJcblx0Y2FyZFBsYWNlLmNsYXNzTGlzdC5hZGQoYHdlYXRoZXItY2FyZF9fcGxhY2VgKTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX19pbmZvYCkucHJlcGVuZChjYXJkUGxhY2UpO1xyXG5cclxuXHQvLyDQs9C+0YDQvtC0XHJcblx0Y29uc3QgY2FyZENpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcclxuXHRjYXJkQ2l0eS5jbGFzc0xpc3QuYWRkKGB3ZWF0aGVyLWNhcmRfX2NpdHlgKTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX19wbGFjZWApLnByZXBlbmQoY2FyZENpdHkpO1xyXG5cclxuXHQvLyDRgdGC0YDQsNC90LBcclxuXHRjb25zdCBjYXJkQ291bnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHN1cGApO1xyXG5cdGNhcmRDb3VudHJ5LmNsYXNzTGlzdC5hZGQoYHdlYXRoZXItY2FyZF9fY291bnRyeWApO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC53ZWF0aGVyLWNhcmRfX2NpdHlgKS5hZnRlcihjYXJkQ291bnRyeSk7XHJcblxyXG5cdC8vINCy0YDQtdC80Y8sIEFQSSDQv9GA0LXQtNC+0YHRgtCw0LLQu9GP0LXRgiDQv9C+0LrQsNC30LDRgtC10LvQuCDQv9C+0LPQvtC00Ysg0LrQsNC20LTRi9C1IDMg0YfQsNGB0LAo0L3QsNGH0LjQvdCw0Y8g0YEgMDA6MDAg0LTQviAyMTowMClcclxuXHQvLyDRgSAwMDowMCAtINC90LDRh9C40L3QsNC10YLRgdGPINC+0YLRgdGH0LXRgiDQvdC+0LLQvtCz0L4g0LTQvdGPXHJcblx0Ly8g0L/QtdGA0LLQuNGH0L3Ri9C5INC/0L7QutCw0LfQsNGC0LXQu9GMINCy0YDQtdC80LXQvdC4INC/0LXRgNCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC/0YDQuNCx0LvQuNC20LXQvSDQuiDQstGA0LXQvNC10L3QuCDQsiDQvNC+0LzQtdC90YIg0L3QsNC20LDRgtC40Y8sXHJcblx0Ly8g0YPRh9C40YLRi9Cy0LDRjyDRh9Cw0YHQvtCy0L7QuSDQv9C+0Y/RgSwg0Lgg0L7QutGA0YPQs9C70LXQvSDQuiDQsdC70LjQttCw0LnRiNC10LzRgyDQt9C90LDRh9C10L3QuNGOKNC60LDQttC00YvRhSAzLdGFINGH0LDRgdC+0LIpXHJcblx0Ly8g0LLRgNC10LzRjyDQvtGC0YHRh9C10YLQsCwg0LrQsNGA0YLQvtGH0LrQuCDRgdC70LXQtNGD0Y7RidC10LPQviDQtNC90Y8sINC90LDRh9C40L3QsNC10YLRgdGPINGBIDAwOjAwIFxyXG5cdGNvbnN0IGNhcmRUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XHJcblx0Y2FyZFRpbWUuY2xhc3NMaXN0LmFkZChgd2VhdGhlci1jYXJkX190aW1lYCk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItY2FyZF9fcGxhY2VgKS5hZnRlcihjYXJkVGltZSk7XHJcblxyXG5cdC8vINC60LvQsNGB0YEg0LTQu9GPINC/0L7QutCw0LfQsNGC0LXQu9C10Lkg0YLQtdC80L/QtdGA0LDRgtGD0YDRi1xyXG5cdGNvbnN0IGNhcmRUZW1wZXJhdHVyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGRpdmApO1xyXG5cdGNhcmRUZW1wZXJhdHVyZS5jbGFzc0xpc3QuYWRkKGB3ZWF0aGVyLWNhcmRfX3RlbXBlcmF0dXJlYCk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItY2FyZF9fdGltZWApLmFmdGVyKGNhcmRUZW1wZXJhdHVyZSk7XHJcblxyXG5cdC8vINGE0LDQutGC0LjRh9C10YHQutCw0Y8g0YLQtdC80L/QtdGA0LDRgtGD0YDQsFxyXG5cdGNvbnN0IHRlbXBlcmF0dXJlUmVhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGRpdmApO1xyXG5cdHRlbXBlcmF0dXJlUmVhbC5jbGFzc0xpc3QuYWRkKGB3ZWF0aGVyLWNhcmRfX3JlYWwtZGVncmVlYCk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItY2FyZF9fdGVtcGVyYXR1cmVgKS5wcmVwZW5kKHRlbXBlcmF0dXJlUmVhbCk7XHJcblxyXG5cdC8vINGC0LXQvNC/0LXRgNCw0YLRg9GA0LAgJ9C/0L4g0L7RidGD0YnQtdC90LjRj9C8J1xyXG5cdGNvbnN0IHRlbXBlcmF0dXJlRmVlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGRpdmApO1xyXG5cdHRlbXBlcmF0dXJlRmVlbC5jbGFzc0xpc3QuYWRkKGB3ZWF0aGVyLWNhcmRfX2ZlZWxzLWRlZ3JlZWApO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC53ZWF0aGVyLWNhcmRfX3JlYWwtZGVncmVlYCkuYWZ0ZXIodGVtcGVyYXR1cmVGZWVsKTtcclxuXHJcblx0Ly8g0LXRgdC70Lgg0LrQvdC+0L/QutC4INC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNC1INC/0L7Qs9C+0LTRiyDRgdC70LXQtC4g0LTQvdGPINC90LXRgiwg0YLQviDRgdC+0LfQtNCw0LXQvCDQtdC1XHJcblx0Ly8g0LXRgdC70Lgg0L/RgNC4INC/0YDQvtGI0LvQvtC8INC/0L7QuNGB0LrQtSDQv9C+0LrQsNC3INC/0L7Qs9C+0LTRiyDQvdCwINGB0LvQtdC00YPRjtGJ0LjQtSDQtNC90Lgg0LHRi9C7INC40YHRh9C10YDQv9Cw0L1cclxuXHQvLyDQuCDQutC90L7Qv9C60LAg0L/RgNC40L3Rj9C70LAgZGlzYWJsZWQgPSB0cnVlLCDQvtGC0LzQtdC90Y/QtdC8INC10LPQvlxyXG5cdGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItQVBJX19hZGROZXdEYXlgKSkge1xyXG5cdFx0Y29uc3QgYnV0dG9uQWRkRGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgYnV0dG9uYCk7XHJcblx0XHRidXR0b25BZGREYXkuY2xhc3NMaXN0LmFkZChgd2VhdGhlci1BUElfX2FkZE5ld0RheWApO1xyXG5cdFx0YnV0dG9uQWRkRGF5LnRleHRDb250ZW50ID0gYGFkZCBuZXcgZGF5YDtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC53ZWF0aGVyLUFQSV9fY2FyZHNgKS5hZnRlcihidXR0b25BZGREYXkpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjb25zdCBkaXNhYmxlZEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC53ZWF0aGVyLUFQSV9fYWRkTmV3RGF5YCk7XHJcblx0XHRkaXNhYmxlZEFkZEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0ZGlzYWJsZWRBZGRCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYHdoaXRlYDtcclxuXHR9XHJcblxyXG5cdC8vINC60LvQsNGB0YEg0LTQu9GPINGB0YLRgNGD0LrRgtGD0YDQuNGA0L7QstCw0L3QuNGPINC60L3QvtC/0L7QuiDQtNC+0LHQsNCy0LvQtdC90LjRjy/QstGL0YfQuNGC0LDQvdC40Y8g0LLRgNC10LzQtdC90LhcclxuXHRjb25zdCBjaGFuZ2VIb3VycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGRpdmApO1xyXG5cdGNoYW5nZUhvdXJzLmNsYXNzTGlzdC5hZGQoYHdlYXRoZXItY2FyZF9fY2hhbmdlSG91cnNgKTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX19pbmZvYCkuYWZ0ZXIoY2hhbmdlSG91cnMpO1xyXG5cclxuXHQvLyDQutC90L7Qv9C60LAg0LTQvtCx0LDQstC70LXQvdC40LUgMy3RhSDRh9Cw0YHQvtCyXHJcblx0Y29uc3QgYnV0dG9uUGx1czNIb3VycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGJ1dHRvbmApO1xyXG5cdGJ1dHRvblBsdXMzSG91cnMudGV4dENvbnRlbnQgPSBgKzMgaG91cnNgO1xyXG5cdGJ1dHRvblBsdXMzSG91cnMuY2xhc3NMaXN0LmFkZChgd2VhdGhlci1jYXJkX19wbHVzM0hvdXJzYCk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItY2FyZF9fY2hhbmdlSG91cnNgKS5wcmVwZW5kKGJ1dHRvblBsdXMzSG91cnMpO1xyXG5cclxuXHQvLyDQutC90L7Qv9C60LAg0LLRi9GH0LXRgtCwIDMt0YUg0YfQsNGB0L7QslxyXG5cdGNvbnN0IGJ1dHRvbk1pbnVzM0hvdXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgYnV0dG9uYCk7XHJcblx0YnV0dG9uTWludXMzSG91cnMudGV4dENvbnRlbnQgPSBgLTMgaG91cnNgO1xyXG5cdGJ1dHRvbk1pbnVzM0hvdXJzLmNsYXNzTGlzdC5hZGQoYHdlYXRoZXItY2FyZF9fbWludXMzSG91cnNgKTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX19wbHVzM0hvdXJzYCkuYmVmb3JlKGJ1dHRvbk1pbnVzM0hvdXJzKTtcclxuXHJcblx0Ly8g0LjQutC+0L3QutCwINC/0L7Qs9C+0LTRi1xyXG5cdGNvbnN0IHdlYXRoZXJJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XHJcblx0d2VhdGhlckljb24uY2xhc3NMaXN0LmFkZChgd2VhdGhlci1jYXJkX19pY29uYCk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItY2FyZF9fdGVtcGVyYXR1cmVgKS5hZnRlcih3ZWF0aGVySWNvbik7XHJcblxyXG5cdC8vINGB0YLQsNGC0YPRgSDQv9C+0LPQvtC00YtcclxuXHRjb25zdCBjYXJkU3RhdHVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XHJcblx0Y2FyZFN0YXR1cy5jbGFzc0xpc3QuYWRkKGB3ZWF0aGVyLWNhcmRfX3N0YXR1c2ApO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC53ZWF0aGVyLWNhcmRfX2ljb25gKS5hZnRlcihjYXJkU3RhdHVzKTtcclxuXHJcblx0Ly/Qt9Cw0L/QvtC70L3Rj9C10Lwg0LrQsNGA0YLQvtGH0LrRgyDQuNC90YTQvtGA0LzQsNGG0LjQtdC5INC40LcgZmV0Y2gg0LfQsNC/0YDQvtGB0LBcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX19jaXR5YCkudGV4dENvbnRlbnQgPSBjaXR5LmNpdHkubmFtZTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX19jb3VudHJ5YCkudGV4dENvbnRlbnQgPSBjaXR5LmNpdHkuY291bnRyeTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX190aW1lYCkudGV4dENvbnRlbnQgPSBpbmZvLmR0X3R4dDtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX19yZWFsLWRlZ3JlZWApLmlubmVySFRNTCA9IGAkeyhpbmZvLm1haW4udGVtcCAtIDI3MykudG9GaXhlZCgxKX0mZGVnYDtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX19mZWVscy1kZWdyZWVgKS5pbm5lckhUTUwgPSBgZmVlbHMgbGlrZTogJHsoaW5mby5tYWluLmZlZWxzX2xpa2UgLSAyNzMpLnRvRml4ZWQoMSl9JmRlZ2A7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItY2FyZF9faWNvbmApLmlubmVySFRNTCA9IGA8aW1nIHNyYz0naHR0cHM6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7aW5mby53ZWF0aGVyWzBdLmljb259QDJ4LnBuZyc+YDtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkX19zdGF0dXNgKS50ZXh0Q29udGVudCA9IGluZm8ud2VhdGhlclswXS5kZXNjcmlwdGlvbjtcclxufVxyXG5cclxuLy8g0L7RgtC+0LHRgNCw0LbQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INGB0LvQtdC00YPRjtGJ0LXQs9C+INC00L3RjyjQvdCwINC+0YHQvdC+0LLQtSDRgdGC0LjQu9C10Lkg0L/QtdGA0LLQvtC5INGB0L7Qt9C00LDQvdC90L7QuSDQutCw0YDRgtC+0YfQutC4KVxyXG4vLyjQsiDQsNGA0LPRg9C80LXQvdGC0LUgYnV0dG9uINC/0LXRgNC10LTQsNGO0YLRgdGPINC00LDQvdC90YvQtSDQviBNb3VzZUV2ZW50LCDQvdCwINC60L7RgtC+0YDQvtC5INCx0YvQu9CwINC90LDQttCw0YLQsCDQutC90L7Qv9C60LAg0LTQvtCx0LDQstC70LXQvdC40LUv0LLRi9GH0LjRgtCw0L3QuNC1IDMt0YUg0YfQsNGB0L7QsixcclxuLy8gYyDQutC+0YLQvtGA0L7QuSDQvNC+0LbQvdC+INCx0YPQtNC10YIg0YPQt9C90LDRgtGMINC00LDQvdC90YvQtSDQviDRgdCw0LzQvtC5INC60LDRgNGC0L7Rh9C60LUpXHJcbmZ1bmN0aW9uIG5ld0luZm9DYXJkKGluZm8sIGJ1dHRvbiA9IGZhbHNlKSB7XHJcblx0Ly8g0LHRg9C00YPRidCw0Y8g0LrQsNGA0YLQvtGH0LrQsCDRgSDQvtCx0L3QvtCy0LvQtdC90L3Ri9C80Lgv0L3QvtCy0YvQvNC4INC00LDQvdC90YvQvNC4XHJcblx0bGV0IG91dHB1dENhcmQ7XHJcblxyXG5cdC8vINC/0YDQvtCy0LXRgNC60LA6INGB0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC40LvQuCDQtNC+0LHQsNCy0LvQtdC90LjQtS/QstGL0YfQuNGC0LDQvdC40LUgMy3RhSDRh9Cw0YHQvtCyXHJcblx0Ly8g0LXRgdC70Lgg0L3QsNC20LDRgtCwINC60L3QvtC/0LrQsCDQtNC+0LHQstC70LXQvdC40Y8v0LLRi9GH0LjRgtCw0L3QuNGPLCDQtNCw0L3QvdGL0LUg0LfQsNC80LXQvdGP0Y7RgtGB0Y8g0L3QsCDQvdC+0LLRi9C1XHJcblx0Ly8g0LjQvdCw0YfQtSDRgdC+0LfQtNCw0LXRgtGB0Y8g0L3QvtCy0LDRjyDQutCw0YDRgtC+0YfQutCwXHJcblx0aWYgKGJ1dHRvbikge1xyXG5cdFx0Ly8g0L/QtdGA0LXQtNCw0LXQvCDQsiBvdXRwdXRDYXJkINC60LvQsNGB0YEg0LrQsNGA0YLQvtGH0LrQuCDQutC+0YLQvtGA0YPRjiDRgtGA0LXQsdGD0LXRgtGB0Y8g0L7QsdC90L7QstC40YLRjFxyXG5cdFx0b3V0cHV0Q2FyZCA9IGJ1dHRvbi50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdFsxXTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8g0YHQvtC30LTQsNC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0YHQu9C10LQuINC00L3Rj1xyXG5cdFx0bGV0IG5ld0NhcmREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcclxuXHRcdG5ld0NhcmREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1jYXJkYCkuY2xvbmVOb2RlKHRydWUpO1xyXG5cdFx0bmV3Q2FyZERpdi5jbGFzc0xpc3QucmVtb3ZlKGBuZXctY2FyZC1udW1iZXItMGApO1xyXG5cdFx0bmV3Q2FyZERpdi5jbGFzc0xpc3QuYWRkKGBuZXctY2FyZC1udW1iZXItJHtjb3VudE9mRGF5c31gKTtcclxuXHRcdG5ld0NhcmREaXYuZGF0YXNldC5jYXJkTnVtYmVyID0gY291bnRPZkRheXM7XHJcblx0XHRuZXdDYXJkRGl2LmRhdGFzZXQud2VhdGhlckNvdW50ZXIgPSBuZXdEYXlOdW1iZXI7XHJcblx0XHRpZiAoY291bnRPZkRheXMgPT09IDEpIHtcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItY2FyZGApLmFmdGVyKG5ld0NhcmREaXYpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm5ldy1jYXJkLW51bWJlci0ke2NvdW50T2ZEYXlzIC0gMX1gKS5hZnRlcihuZXdDYXJkRGl2KTtcclxuXHRcdH1cclxuXHRcdG91dHB1dENhcmQgPSBgbmV3LWNhcmQtbnVtYmVyLSR7Y291bnRPZkRheXN9YDtcclxuXHR9XHJcblxyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke291dHB1dENhcmR9ID4gLndlYXRoZXItY2FyZF9faW5mbyA+IC53ZWF0aGVyLWNhcmRfX3RpbWVgKS5pbm5lckhUTUwgPSBpbmZvLmR0X3R4dDtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtvdXRwdXRDYXJkfSA+IC53ZWF0aGVyLWNhcmRfX2luZm8gPiAud2VhdGhlci1jYXJkX190ZW1wZXJhdHVyZSA+IC53ZWF0aGVyLWNhcmRfX3JlYWwtZGVncmVlYCkuaW5uZXJIVE1MID0gYCR7KGluZm8ubWFpbi50ZW1wIC0gMjczKS50b0ZpeGVkKDEpfSZkZWdgO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke291dHB1dENhcmR9ID4gLndlYXRoZXItY2FyZF9faW5mbyA+IC53ZWF0aGVyLWNhcmRfX3RlbXBlcmF0dXJlID4gLndlYXRoZXItY2FyZF9fZmVlbHMtZGVncmVlYCkuaW5uZXJIVE1MID0gYGZlZWxzIGxpa2U6ICR7KGluZm8ubWFpbi5mZWVsc19saWtlIC0gMjczKS50b0ZpeGVkKDEpfSZkZWdgO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke291dHB1dENhcmR9ID4gLndlYXRoZXItY2FyZF9faW5mbyA+IC53ZWF0aGVyLWNhcmRfX2ljb25gKS5pbm5lckhUTUwgPSBgPGltZyBzcmM9J2h0dHBzOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi8ke2luZm8ud2VhdGhlclswXS5pY29ufUAyeC5wbmcnPmA7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7b3V0cHV0Q2FyZH0gPiAud2VhdGhlci1jYXJkX19pbmZvID4gLndlYXRoZXItY2FyZF9fc3RhdHVzYCkuaW5uZXJIVE1MID0gaW5mby53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwbGF5V2VhdGhlcihkYXRhKSB7XHJcblx0Ly8g0L7QsdGJ0LjQuSDQsdC70L7QuiDQtNC70Y8g0LrQsNGA0YLQvtGH0LXQuiDQv9C+0LPQvtC00YtcclxuXHRjb25zdCBhbGxDYXJkc0Jsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndlYXRoZXItQVBJX19jYXJkc2ApO1xyXG5cclxuXHQvLyDQv9GA0Lgg0LfQsNC/0YDQvtGB0LUg0YPQtNCw0LvQtdC90LjQtSDQstGB0LXRhSDQvtGC0L7QsdGA0LDQttCw0LXQvNGL0YUg0LrQsNGA0YLQvtGH0LXQuiDQv9C+0LPQvtC00YtcclxuXHR3aGlsZSAoYWxsQ2FyZHNCbG9jay5maXJzdENoaWxkKSB7XHJcblx0XHRhbGxDYXJkc0Jsb2NrLnJlbW92ZUNoaWxkKGFsbENhcmRzQmxvY2suZmlyc3RDaGlsZCk7XHJcblx0fVxyXG5cclxuXHQvLyDRgdC+0LfQtNCw0L3QuNC1INGB0YLQsNGA0YLQvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC/0L7Qs9C+0LTQsFxyXG5cdGNyZWF0ZUZpcnN0Q2FyZChkYXRhLCBkYXRhLmxpc3RbMF0pO1xyXG5cclxuXHQvLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INGBINC/0L7Qs9C+0LTQvtC5INGB0LvQtdGO0YPRidC10LPQviDQtNC90Y9cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAud2VhdGhlci1BUElfX2FkZE5ld0RheWApLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcclxuXHRcdC8vINC00LXQvdGMINGB0LvQtdC0LiDQtNC90Y9cclxuXHRcdGNvbnN0IGRheSA9ICtkYXRhLmxpc3RbbmV3RGF5TnVtYmVyXS5kdF90eHQuc3BsaXQoYCBgLCAyKVswXS5zcGxpdChgLWApWzJdO1xyXG5cdFx0Ly8g0LzQtdGB0Y/RhiDRgdC70LXQtC4g0LTQvdGPXHJcblx0XHRjb25zdCBtb3VudGggPSArZGF0YS5saXN0W25ld0RheU51bWJlcl0uZHRfdHh0LnNwbGl0KGAtYCwgMilbMV07XHJcblx0XHQvLyDQs9C+0LQg0YHQu9C10LQuINC00L3Rj1xyXG5cdFx0Y29uc3QgeWVhciA9ICtkYXRhLmxpc3RbbmV3RGF5TnVtYmVyXS5kdF90eHQuc3BsaXQoYC1gLCAyKVswXTtcclxuXHRcdC8vINC00L7QsdCw0LLQu9GP0LXQvCArMSDQuiDRgdGH0LXRgtGH0LjQutGDINC+0YLQvtCx0YDQsNC20LDQtdC80YvRhSDQutCw0YDRgtC+0YfQtdC6KNC00LvRjyDQv9GA0L7RgdC80L7RgtGA0LAg0LTQvtGB0YLRg9C/0L3QviDQstGB0LXQs9C+IDQg0LrQsNGA0YLQvtGH0LrQuClcclxuXHRcdGNvdW50T2ZEYXlzICs9IDE7XHJcblxyXG5cdFx0Ly8g0LXRgdC70Lgg0LrQvtC7LdCy0L4g0L7RgtC+0LHRgNCw0LbQsNC10LzRi9GFINC60LDRgNGC0L7Rh9C10Log0L3QtSDQv9GA0LXQstGL0YjQsNC10YIgNCwg0YLQviDRgdC+0LfQtNCw0LXQvCDQutCw0YDRgtC+0YfQutGDXHJcblx0XHQvLyDQsiDQuNC90L7QvCDRgdC70YPRh9Cw0LUg0LrQvdC+0L/QutCwINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuCDRgdGC0LDQvdC+0LLQuNGC0YHRjyDQvdC1INCw0LrRgtC40LLQvdC+0LkgXHJcblx0XHRpZiAoY291bnRPZkRheXMgPCA0KSB7XHJcblx0XHRcdGNvbnN0IG5leHREYXlJbmZvID0gKGRhdGEubGlzdCkuZmluZCgoaXRlbSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBuZXdEYXkgPSBpdGVtLmR0X3R4dC5zcGxpdChgIGAsIDIpWzBdLnNwbGl0KGAtYClbMl07XHJcblx0XHRcdFx0Y29uc3QgbmV3TW91bnRoID0gaXRlbS5kdF90eHQuc3BsaXQoYC1gLCAyKVsxXTtcclxuXHRcdFx0XHRjb25zdCBuZXdZZWFyID0gaXRlbS5kdF90eHQuc3BsaXQoYC1gLCAyKVswXTtcclxuXHJcblx0XHRcdFx0bmV3RGF5TnVtYmVyID0gaW5kZXg7XHJcblx0XHRcdFx0Ly8gZGF0YS5saXN0INCy0YvQtNCw0LXRgiDRgdC/0LjRgdC+0Log0L/QvtCz0L7QtNGLINGBINGI0LDQs9C+0Lwg0LIgMyDRh9Cw0YHQsCjQsdC10Lcg0YDQsNC30LHQuNC10L3QuNGPINC90LAg0LTQvdC4KSwgXHJcblx0XHRcdFx0Ly8g0L/QvtGN0YLQvtC80YMg0YfRgtC+0LHRiyDQvtGC0L7QsdGA0LDQt9C40YLRjCDQv9C+0LPQvtC00YMg0LjQvNC10L3QvdC+INGB0LvQtdC00YPRjtGJ0LXQs9C+INC00L3Rjywg0LLQstC+0LTQuNGC0YHRjyDQv9GA0L7QstC10YDQutCwXHJcblx0XHRcdFx0aWYgKChuZXdEYXkgPCBkYXkgJiYgbmV3TW91bnRoID4gbW91bnRoKSB8fCAobmV3RGF5ID4gZGF5ICYmIG5ld01vdW50aCA9PSBtb3VudGgpIHx8IChuZXdZZWFyID4geWVhciAmJiBuZXdNb3VudGggPCBtb3VudGgpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bmV3SW5mb0NhcmQobmV4dERheUluZm8pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZXZlbnQudGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTtcclxuXHRcdFx0ZXZlbnQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGBncmF5YDtcclxuXHRcdFx0Y291bnRPZkRheXMgPSAwO1xyXG5cdFx0XHRuZXdEYXlOdW1iZXIgPSAwO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vINC/0YDQvtCy0LXRgNGP0Lwg0L3QtSDQvdCw0LbQsNGC0Lgg0LvQuCDQutC90L7Qv9C60Lgg0LTQvtCx0LDQstC70LXQvdC40Y8v0LLRi9GH0LjRgtCw0L3QuNGPIDMt0YUg0YfQsNGB0L7QslxyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC53ZWF0aGVyLUFQSV9fY2FyZHNgKS5vbmNsaWNrID0gKGUpID0+IHtcclxuXHRcdGlmIChlLnRhcmdldC5tYXRjaGVzKGBidXR0b24ud2VhdGhlci1jYXJkX19wbHVzM0hvdXJzYCkpIHtcclxuXHRcdFx0Y29uc3QgZGF5ID0gK2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2UudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc0xpc3RbMV19ID4gLndlYXRoZXItY2FyZF9faW5mbyA+IC53ZWF0aGVyLWNhcmRfX3RpbWVgKS50ZXh0Q29udGVudC5zcGxpdChgIGAsIDIpWzBdLnNwbGl0KGAtYClbMl07XHJcblx0XHRcdGNvbnN0IGhvdXIgPSArZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7ZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdFsxXX0gPiAud2VhdGhlci1jYXJkX19pbmZvID4gLndlYXRoZXItY2FyZF9fdGltZWApLnRleHRDb250ZW50LnNwbGl0KGAgYCwgMilbMV0uc3BsaXQoYDpgKVswXTtcclxuXHRcdFx0Y29uc3QgbmV4dEhvdXJJbmZvID0gKGRhdGEubGlzdCkuZmluZCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRcdGlmICgoK2l0ZW0uZHRfdHh0LnNwbGl0KGAgYCwgMilbMV0uc3BsaXQoYDpgKVswXSA+IGhvdXIpICYmICgraXRlbS5kdF90eHQuc3BsaXQoYCBgLCAyKVswXS5zcGxpdChgLWApWzJdID09PSBkYXkpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRpZiAobmV4dEhvdXJJbmZvID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbmV3SW5mb0NhcmQobmV4dEhvdXJJbmZvLCBlKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcyhgYnV0dG9uLndlYXRoZXItY2FyZF9fbWludXMzSG91cnNgKSkge1xyXG5cdFx0XHRjb25zdCBkYXkgPSArZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7ZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdFsxXX0gPiAud2VhdGhlci1jYXJkX19pbmZvID4gLndlYXRoZXItY2FyZF9fdGltZWApLnRleHRDb250ZW50LnNwbGl0KGAgYCwgMilbMF0uc3BsaXQoYC1gKVsyXTtcclxuXHRcdFx0Y29uc3QgaG91ciA9ICtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2xhc3NMaXN0WzFdfSA+IC53ZWF0aGVyLWNhcmRfX2luZm8gPiAud2VhdGhlci1jYXJkX190aW1lYCkudGV4dENvbnRlbnQuc3BsaXQoYCBgLCAyKVsxXS5zcGxpdChgOmApWzBdO1xyXG5cdFx0XHRjb25zdCBuZXh0SG91ckluZm8gPSAoZGF0YS5saXN0KS5maW5kKChpdGVtKSA9PiB7XHJcblx0XHRcdFx0aWYgKCgoaG91ciAtICtpdGVtLmR0X3R4dC5zcGxpdChgIGAsIDIpWzFdLnNwbGl0KGA6YClbMF0pID09PSAzKSAmJiAoK2l0ZW0uZHRfdHh0LnNwbGl0KGAgYCwgMilbMF0uc3BsaXQoYC1gKVsyXSA9PT0gZGF5KSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmIChuZXh0SG91ckluZm8gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBuZXdJbmZvQ2FyZChuZXh0SG91ckluZm8sIGUpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH07XHJcbn1cclxuXHJcbi8vINC/0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L4g0L/QvtCz0L7QtNCwXHJcbmZ1bmN0aW9uIGdldFdlYXRoZXIoZSkge1xyXG5cdGZldGNoKGAke2FwaS51cmx9Zm9yZWNhc3Q/cT0ke2V9JmluaXRzPW1ldHJpYyZBUFBJRD0ke2FwaS5rZXl9YClcclxuXHRcdC50aGVuKChyZXMpID0+IHtcclxuXHRcdFx0aWYgKHJlcy5zdGF0dXMgPj0gMjAwICYmIHJlcy5zdGF0dXMgPCAzMDApIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHJlcy5zdGF0dXNUZXh0KTtcclxuXHRcdFx0ZXJyb3IucmVzcG9uc2UgPSByZXM7XHJcblx0XHRcdHRocm93IGVycm9yO1xyXG5cdFx0fSlcclxuXHRcdC50aGVuKChkYXRhKSA9PiB7IHJldHVybiBkYXRhLmpzb24oKTsgfSlcclxuXHRcdC50aGVuKGRpc3BsYXlXZWF0aGVyKVxyXG5cdFx0LmNhdGNoKChlcnJvcikgPT4ge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuXHRcdFx0Y29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpO1xyXG5cdFx0fSk7XHJcbn1cclxuXHJcbi8vINC/0L7QuNGB0Log0L/QvtCz0L7QtNGLINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwIGVudGVyKNGD0YHQu9C+0LLQuNC1OiDQuNC90L/Rg9GCINCyINGE0L7QutGD0YHQtSlcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmlucHV0YCkuYWRkRXZlbnRMaXN0ZW5lcihga2V5cHJlc3NgLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHRyZXR1cm4gKGV2ZW50LmtleUNvZGUgPT09IDEzKSA/IGdldFdlYXRoZXIodGhpcy52YWx1ZSkgOiBudWxsO1xyXG59KTsiXX0=
